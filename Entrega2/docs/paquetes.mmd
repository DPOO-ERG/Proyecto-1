%% Diagrama de paquetes (alto nivel)
flowchart TB
classDef pkg fill:#f4f7fb,stroke:#2b4c7e,stroke-width:1px,rx:6,ry:6,color:#111,font-size:12px;

subgraph capa_presentacion["Capa de Presentación"]
  p_presentation["co.edu.uniandes.proyecto1.presentation.cli"]:::pkg
end

subgraph capa_aplicacion["Capa de Aplicación"]
  p_app_service["co.edu.uniandes.proyecto1.application.service"]:::pkg
end

subgraph capa_dominio["Capa de Dominio"]
  p_domain_model["co.edu.uniandes.proyecto1.domain.model.*"]:::pkg
  p_domain_service["co.edu.uniandes.proyecto1.domain.service"]:::pkg
  p_domain_repository["co.edu.uniandes.proyecto1.domain.repository"]:::pkg
end

subgraph capa_infraestructura["Capa de Infraestructura (CSV)"]
  p_infra_csv_repo["co.edu.uniandes.proyecto1.infrastructure.csv.repository"]:::pkg
  p_infra_csv_mappers["co.edu.uniandes.proyecto1.infrastructure.csv.mappers"]:::pkg
  p_infra_csv_utils["co.edu.uniandes.proyecto1.infrastructure.csv.utils"]:::pkg
end

%% Dependencias
p_presentation --> p_app_service
p_app_service --> p_domain_service
p_app_service --> p_domain_repository
p_app_service --> p_domain_model
p_domain_service --> p_domain_model
p_domain_repository --> p_domain_model
p_infra_csv_repo --> p_infra_csv_mappers
p_infra_csv_repo --> p_infra_csv_utils
p_domain_repository -. «implemented by» .-> p_infra_csv_repo
