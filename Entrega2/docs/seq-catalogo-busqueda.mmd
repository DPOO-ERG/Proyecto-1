%% Secuencia: Catálogo / Búsqueda (venues → eventos → localidades → asientos)
sequenceDiagram
actor Cliente
participant AppCli
participant CatalogService
participant VenueRepository
participant EventoRepository
participant LocalidadRepository
participant AsientoRepository

Cliente->>AppCli: explorarCatalogo()
AppCli->>CatalogService: venuesAprobados()
CatalogService->>VenueRepository: findByAprobado(true)
VenueRepository-->>CatalogService: List<Venue>
CatalogService-->>AppCli: List<Venue>
AppCli-->>Cliente: Mostrar venues aprobados

Cliente->>AppCli: selecciona venueId
AppCli->>EventoRepository: findByVenue(venueId)
EventoRepository-->>AppCli: List<Evento>
AppCli-->>Cliente: Mostrar eventos del venue

Cliente->>AppCli: selecciona eventoId
AppCli->>LocalidadRepository: findByEvento(eventoId)
LocalidadRepository-->>AppCli: List<Localidad>
AppCli-->>Cliente: Mostrar localidades

alt Cliente desea ver asientos de una localidad numerada
  Cliente->>AppCli: solicita ver asientos(localidadId)
  AppCli->>LocalidadRepository: findById(localidadId)
  LocalidadRepository-->>AppCli: Optional<Localidad>
  opt localidad es numerada
    AppCli->>AsientoRepository: findByLocalidad(localidadId)
    AsientoRepository-->>AppCli: List<Asiento>
    AppCli-->>Cliente: Mostrar asientos disponibles
  end
else Cliente no solicita asientos
  Note right of AppCli: Finaliza exploración en localidades
end


